{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\randy\\\\Documents\\\\Code\\\\CodingDojo\\\\Mern\\\\authors\\\\client\\\\src\\\\views\\\\Main.js\";\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport AuthorForm from '../components/AuthorForm';\nimport AuthorList from '../components/AuthorList';\nexport default (() => {\n  const [stuff, setStuff] = useState([]);\n  const [loaded, setLoaded] = useState(false);\n  useEffect(() => {\n    axios.get('http://localhost:8000/api/author').then(res => {\n      setStuff(res.data);\n      setLoaded(true);\n    });\n  }, []);\n\n  const removeFromDom = authorId => {\n    setStuff(stuff.filter(author => author._id != authorId));\n  };\n\n  const createAuthor = author => {\n    axios.post('http://localhost:8000/api/author', author).then(res => {\n      setStuff([...stuff, res.data]);\n    });\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, \"Favorite authors\"), React.createElement(Link, {\n    to: \"/new\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, \"add an author\"), React.createElement(AuthorForm, {\n    onSubmitProp: createAuthor,\n    initialName: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }), React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }), loaded && React.createElement(AuthorList, {\n    stuff: stuff,\n    removeFromDom: removeFromDom,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }));\n});","map":{"version":3,"sources":["C:/Users/randy/Documents/Code/CodingDojo/Mern/authors/client/src/views/Main.js"],"names":["React","useEffect","useState","axios","AuthorForm","AuthorList","stuff","setStuff","loaded","setLoaded","get","then","res","data","removeFromDom","authorId","filter","author","_id","createAuthor","post"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,gBAAe,MAAM;AACjB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBL,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACM,MAAD,EAASC,SAAT,IAAsBP,QAAQ,CAAC,KAAD,CAApC;AACAD,EAAAA,SAAS,CAAC,MAAM;AACZE,IAAAA,KAAK,CAACO,GAAN,CAAU,kCAAV,EACKC,IADL,CACUC,GAAG,IAAG;AACRL,MAAAA,QAAQ,CAACK,GAAG,CAACC,IAAL,CAAR;AACAJ,MAAAA,SAAS,CAAC,IAAD,CAAT;AACH,KAJL;AAKH,GANQ,EAMN,EANM,CAAT;;AAOA,QAAMK,aAAa,GAAGC,QAAQ,IAAI;AAC9BR,IAAAA,QAAQ,CAACD,KAAK,CAACU,MAAN,CAAaC,MAAM,IAAIA,MAAM,CAACC,GAAP,IAAcH,QAArC,CAAD,CAAR;AACH,GAFD;;AAGA,QAAMI,YAAY,GAAGF,MAAM,IAAI;AAC3Bd,IAAAA,KAAK,CAACiB,IAAN,CAAW,kCAAX,EAA+CH,MAA/C,EACKN,IADL,CACUC,GAAG,IAAE;AACPL,MAAAA,QAAQ,CAAC,CAAC,GAAGD,KAAJ,EAAWM,GAAG,CAACC,IAAf,CAAD,CAAR;AACH,KAHL;AAIH,GALD;;AAMA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,EAEI,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAE,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAFJ,EAGI,oBAAC,UAAD;AAAY,IAAA,YAAY,EAAEM,YAA1B;AAAwC,IAAA,WAAW,EAAC,EAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,EAKKX,MAAM,IAAI,oBAAC,UAAD;AAAY,IAAA,KAAK,EAAEF,KAAnB;AAA0B,IAAA,aAAa,EAAEQ,aAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALf,CADJ;AASH,CA5BD","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport axios from 'axios';\r\nimport AuthorForm from '../components/AuthorForm';\r\nimport AuthorList from '../components/AuthorList';\r\nexport default () => {\r\n    const [stuff, setStuff] = useState([]);\r\n    const [loaded, setLoaded] = useState(false);\r\n    useEffect(() => {\r\n        axios.get('http://localhost:8000/api/author')\r\n            .then(res =>{ \r\n                setStuff(res.data)\r\n                setLoaded(true);\r\n            });\r\n    }, [])\r\n    const removeFromDom = authorId => {\r\n        setStuff(stuff.filter(author => author._id != authorId));\r\n    }\r\n    const createAuthor = author => {\r\n        axios.post('http://localhost:8000/api/author', author)\r\n            .then(res=>{\r\n                setStuff([...stuff, res.data]);\r\n            })\r\n    }\r\n    return (\r\n        <div>\r\n            <h1>Favorite authors</h1>\r\n            <Link to={\"/new\"}>add an author</Link>\r\n            <AuthorForm onSubmitProp={createAuthor} initialName=\"\"/>\r\n            <hr/>\r\n            {loaded && <AuthorList stuff={stuff} removeFromDom={removeFromDom}/>}\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}