{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\randy\\\\Documents\\\\Code\\\\CodingDojo\\\\Mern\\\\authors\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import axios from'axios';import{Link}from'@reach/router';import AuthorForm from'../components/AuthorForm';import AuthorList from'../components/AuthorList';export default(function(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),people=_useState2[0],setPeople=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loaded=_useState4[0],setLoaded=_useState4[1];useEffect(function(){axios.get('http://localhost:8000/api/author').then(function(res){setPeople(res.data);setLoaded(true);});},[people]);var removeFromDom=function removeFromDom(authorId){setPeople(people.filter(function(author){return author._id!=author;}));};// const createAuthor = author => {\n//     axios.post('http://localhost:8000/api/author', author)\n//         .then(res=>{\n//             setPeople([...people, res.data]);\n//         })\n// }\nreturn React.createElement(\"div\",null,React.createElement(\"h1\",null,\"Favorite authors\"),React.createElement(Link,{to:\"/new\"},\"add an author\"),React.createElement(\"h3\",null,\"We have quotes by:\"),React.createElement(\"hr\",null),loaded&&React.createElement(AuthorList,{people:people,removeFromDom:removeFromDom}));});","map":{"version":3,"sources":["C:/Users/randy/Documents/Code/CodingDojo/Mern/authors/client/src/views/Main.js"],"names":["React","useEffect","useState","axios","Link","AuthorForm","AuthorList","people","setPeople","loaded","setLoaded","get","then","res","data","removeFromDom","authorId","filter","author","_id"],"mappings":"gMAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,eAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CAEA,eAAe,UAAM,eACWJ,QAAQ,CAAC,EAAD,CADnB,wCACVK,MADU,eACFC,SADE,8BAEWN,QAAQ,CAAC,KAAD,CAFnB,yCAEVO,MAFU,eAEFC,SAFE,eAGjBT,SAAS,CAAC,UAAM,CACZE,KAAK,CAACQ,GAAN,CAAU,kCAAV,EACKC,IADL,CACU,SAAAC,GAAG,CAAG,CACRL,SAAS,CAACK,GAAG,CAACC,IAAL,CAAT,CACAJ,SAAS,CAAC,IAAD,CAAT,CACH,CAJL,EAKH,CANQ,CAMN,CAACH,MAAD,CANM,CAAT,CAOA,GAAMQ,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAAAC,QAAQ,CAAI,CAC9BR,SAAS,CAACD,MAAM,CAACU,MAAP,CAAc,SAAAC,MAAM,QAAIA,CAAAA,MAAM,CAACC,GAAP,EAAcD,MAAlB,EAApB,CAAD,CAAT,CACH,CAFD,CAGA;AACA;AACA;AACA;AACA;AACA;AACA,MACI,gCACI,iDADJ,CAEI,oBAAC,IAAD,EAAM,EAAE,CAAE,MAAV,kBAFJ,CAGI,mDAHJ,CAKI,8BALJ,CAMKT,MAAM,EAAI,oBAAC,UAAD,EAAY,MAAM,CAAEF,MAApB,CAA4B,aAAa,CAAEQ,aAA3C,EANf,CADJ,CAUH,CA7BD","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport axios from 'axios';\r\nimport { Link } from '@reach/router';\r\nimport AuthorForm from '../components/AuthorForm';\r\nimport AuthorList from '../components/AuthorList';\r\n\r\nexport default () => {\r\n    const [people, setPeople] = useState([]);\r\n    const [loaded, setLoaded] = useState(false);\r\n    useEffect(() => {\r\n        axios.get('http://localhost:8000/api/author')\r\n            .then(res =>{ \r\n                setPeople(res.data)\r\n                setLoaded(true);\r\n            });\r\n    }, [people])\r\n    const removeFromDom = authorId => {\r\n        setPeople(people.filter(author => author._id != author));\r\n    }\r\n    // const createAuthor = author => {\r\n    //     axios.post('http://localhost:8000/api/author', author)\r\n    //         .then(res=>{\r\n    //             setPeople([...people, res.data]);\r\n    //         })\r\n    // }\r\n    return (\r\n        <div>\r\n            <h1>Favorite authors</h1>\r\n            <Link to={\"/new\"}>add an author</Link>\r\n            <h3>We have quotes by:</h3>\r\n            {/* <AuthorForm onSubmitProp={createAuthor} initialName=\"\"/> */}\r\n            <hr/>\r\n            {loaded && <AuthorList people={people} removeFromDom={removeFromDom}/>}\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}