{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\randy\\\\Documents\\\\Code\\\\CodingDojo\\\\Mern\\\\authors\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import axios from'axios';import{navigate}from'@reach/router';import AuthorForm from'../components/AuthorForm';import DeleteButton from'../components/DeleteButton';import{Link}from'@reach/router';export default(function(props){var id=props.id;var _useState=useState(),_useState2=_slicedToArray(_useState,2),author=_useState2[0],setAuthor=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loaded=_useState4[0],setLoaded=_useState4[1];useEffect(function(){axios.get('http://localhost:8000/api/author/'+id).then(function(res){setAuthor(res.data);setLoaded(true);});},[]);var updateAuthor=function updateAuthor(author){axios.put('http://localhost:8000/api/author/'+id,author).then(function(res){return console.log(res);});};return React.createElement(\"div\",null,React.createElement(\"h1\",null,\"Favorite authors\"),React.createElement(Link,{to:\"/\"},\"Home\"),React.createElement(\"h3\",null,\"Update this author:\"),loaded&&React.createElement(React.Fragment,null,React.createElement(AuthorForm,{onSubmitProp:updateAuthor,initialName:author.name})));});","map":{"version":3,"sources":["C:/Users/randy/Documents/Code/CodingDojo/Mern/authors/client/src/views/Update.js"],"names":["React","useEffect","useState","axios","navigate","AuthorForm","DeleteButton","Link","props","id","author","setAuthor","loaded","setLoaded","get","then","res","data","updateAuthor","put","console","log","name"],"mappings":"gMAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,eAAzB,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,MAAOC,CAAAA,YAAP,KAAyB,4BAAzB,CACA,OAASC,IAAT,KAAqB,eAArB,CAEA,eAAe,SAAAC,KAAK,CAAI,IACZC,CAAAA,EADY,CACLD,KADK,CACZC,EADY,eAEQP,QAAQ,EAFhB,wCAEbQ,MAFa,eAELC,SAFK,8BAGQT,QAAQ,CAAC,KAAD,CAHhB,yCAGbU,MAHa,eAGLC,SAHK,eAIpBZ,SAAS,CAAC,UAAM,CACZE,KAAK,CAACW,GAAN,CAAU,oCAAsCL,EAAhD,EACKM,IADL,CACU,SAAAC,GAAG,CAAI,CACTL,SAAS,CAACK,GAAG,CAACC,IAAL,CAAT,CACAJ,SAAS,CAAC,IAAD,CAAT,CACH,CAJL,EAKH,CANQ,CAMN,EANM,CAAT,CAQA,GAAMK,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAR,MAAM,CAAI,CAC3BP,KAAK,CAACgB,GAAN,CAAU,oCAAsCV,EAAhD,CAAoDC,MAApD,EACKK,IADL,CACU,SAAAC,GAAG,QAAII,CAAAA,OAAO,CAACC,GAAR,CAAYL,GAAZ,CAAJ,EADb,EAEH,CAHD,CAIA,MACI,gCACI,iDADJ,CAEI,oBAAC,IAAD,EAAM,EAAE,CAAE,GAAV,SAFJ,CAGI,oDAHJ,CAIKJ,MAAM,EACH,wCACI,oBAAC,UAAD,EACI,YAAY,CAAEM,YADlB,CAEI,WAAW,CAAER,MAAM,CAACY,IAFxB,EADJ,CALR,CADJ,CAeH,CA/BD","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport axios from 'axios';\r\nimport { navigate } from '@reach/router';\r\nimport AuthorForm from '../components/AuthorForm';\r\nimport DeleteButton from '../components/DeleteButton';\r\nimport { Link } from '@reach/router';\r\n\r\nexport default props => {\r\n    const { id } = props;\r\n    const [author, setAuthor] = useState();\r\n    const [loaded, setLoaded] = useState(false);\r\n    useEffect(() => {\r\n        axios.get('http://localhost:8000/api/author/' + id)\r\n            .then(res => {\r\n                setAuthor(res.data);\r\n                setLoaded(true);\r\n            })\r\n    }, [])\r\n\r\n    const updateAuthor = author => {\r\n        axios.put('http://localhost:8000/api/author/' + id, author)\r\n            .then(res => console.log(res));\r\n    }\r\n    return (\r\n        <div>\r\n            <h1>Favorite authors</h1>\r\n            <Link to={\"/\"}>Home</Link>\r\n            <h3>Update this author:</h3>\r\n            {loaded && (\r\n                <>\r\n                    <AuthorForm\r\n                        onSubmitProp={updateAuthor}\r\n                        initialName={author.name}\r\n                    />\r\n                </>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}