{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\randy\\\\Documents\\\\Code\\\\CodingDojo\\\\Mern\\\\authors\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import axios from'axios';import{Link}from'@reach/router';import DeleteButton from'./DeleteButton';export default(function(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),stuff=_useState2[0],setStuff=_useState2[1];useEffect(function(){axios.get('http://localhost:8000/api/author').then(function(res){return setStuff(res.data);});},[stuff]);var removeFromDom=function removeFromDom(authorId){setStuff(stuff.filter(function(author){return author._id!=authorId;}));};return React.createElement(\"div\",null,React.createElement(\"table\",null,React.createElement(\"tr\",null,React.createElement(\"th\",null,\"Author\"),React.createElement(\"th\",null,\"Actions available\")),stuff.map(function(author,idx){return React.createElement(\"tr\",{key:idx},React.createElement(\"td\",null,author.name),React.createElement(\"td\",null,React.createElement(Link,{to:\"/\"+author._id+\"/edit\"},\"Edit\"),\"|\",React.createElement(DeleteButton,{authorId:author._id,successCallback:function successCallback(){return removeFromDom(author._id);}})));})));});","map":{"version":3,"sources":["C:/Users/randy/Documents/Code/CodingDojo/Mern/authors/client/src/components/AuthorList.js"],"names":["React","useEffect","useState","axios","Link","DeleteButton","props","stuff","setStuff","get","then","res","data","removeFromDom","authorId","filter","author","_id","map","idx","name"],"mappings":"gMAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,eAArB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CAEA,eAAe,SAAAC,KAAK,CAAI,eACMJ,QAAQ,CAAC,EAAD,CADd,wCACbK,KADa,eACNC,QADM,eAGpBP,SAAS,CAAC,UAAM,CACZE,KAAK,CAACM,GAAN,CAAU,kCAAV,EACKC,IADL,CACU,SAAAC,GAAG,QAAIH,CAAAA,QAAQ,CAACG,GAAG,CAACC,IAAL,CAAZ,EADb,EAEH,CAHQ,CAGN,CAACL,KAAD,CAHM,CAAT,CAKA,GAAMM,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAAAC,QAAQ,CAAI,CAC9BN,QAAQ,CAACD,KAAK,CAACQ,MAAN,CAAa,SAAAC,MAAM,QAAIA,CAAAA,MAAM,CAACC,GAAP,EAAcH,QAAlB,EAAnB,CAAD,CAAR,CACH,CAFD,CAIA,MACI,gCACI,iCACI,8BACI,uCADJ,CAEI,kDAFJ,CADJ,CAKCP,KAAK,CAACW,GAAN,CAAU,SAACF,MAAD,CAASG,GAAT,CAAiB,CACxB,MACI,2BAAI,GAAG,CAAEA,GAAT,EACA,8BAAKH,MAAM,CAACI,IAAZ,CADA,CAEA,8BACI,oBAAC,IAAD,EAAM,EAAE,CAAE,IAAMJ,MAAM,CAACC,GAAb,CAAmB,OAA7B,SADJ,KAKI,oBAAC,YAAD,EAAc,QAAQ,CAAED,MAAM,CAACC,GAA/B,CAAoC,eAAe,CAAE,iCAAIJ,CAAAA,aAAa,CAACG,MAAM,CAACC,GAAR,CAAjB,EAArD,EALJ,CAFA,CADJ,CAYH,CAbA,CALD,CADJ,CADJ,CAwBH,CApCD","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport axios from 'axios';\r\nimport { Link } from '@reach/router';\r\nimport DeleteButton from './DeleteButton';\r\n\r\nexport default props => {\r\n    const [stuff, setStuff] = useState([]);\r\n\r\n    useEffect(() => {\r\n        axios.get('http://localhost:8000/api/author')\r\n            .then(res => setStuff(res.data));\r\n    }, [stuff])\r\n\r\n    const removeFromDom = authorId => {\r\n        setStuff(stuff.filter(author => author._id != authorId))\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <table>\r\n                <tr>\r\n                    <th>Author</th>\r\n                    <th>Actions available</th>\r\n                </tr>\r\n            {stuff.map((author, idx) => {\r\n                return (\r\n                    <tr key={idx}>\r\n                    <td>{author.name}</td>\r\n                    <td>\r\n                        <Link to={\"/\" + author._id + \"/edit\"}>\r\n                            Edit\r\n                        </Link> \r\n                        |\r\n                        <DeleteButton authorId={author._id} successCallback={()=>removeFromDom(author._id)}/>\r\n                    </td>\r\n                    </tr>\r\n                )\r\n            })}\r\n            </table>\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}